!curl -L "https://public.roboflow.com/ds/eaThsAWxOq?key=sriPoTgkNO" > roboflow.zip; unzip roboflow.zip; rm roboflow.zip


%cd /content
!git clone https://github.com/ultralytics/yolov5.git


%cd /content/yolov5/
!pip install -r requirements.txt




%cd /
from glob import glob

img_list = glob('/content/dataset/export/images/*.jpg')
print(len(img_list))




from sklearn.model_selection import train_test_split

train_img_list, val_img_list = train_test_split(img_list, test_size=0.2, random_state=2000)

print(len(train_img_list), len(val_img_list))





with open('/content/dataset/train.txt', 'w') as f:
  f.write('\n'.join(train_img_list)+'\n')

with open('/content/dataset/val.txt', 'w') as f:
  f.write('\n'.join(val_img_list)+'\n')






import yaml

with open('/content/dataset/data.yaml', 'r') as f:
  data = yaml.safe_load(f)

print(data)
data['train'] = '/content/dataset/train.txt'
data['val'] = '/content/dataset/val.txt'

with open('/content/dataset/data.yaml', 'w') as f:
  yaml.dump(data,f)

print(data)